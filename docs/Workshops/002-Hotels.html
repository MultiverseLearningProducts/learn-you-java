<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="utf-8">
    <title>
         Hotels
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/x-icon" href="/curriculum/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/an-old-hope.min.css">
    <link rel="stylesheet" href="/learn-you-java/style.css" />
    <script src="/learn-you-java/js/highlight.min.js"></script>
    <script src="/learn-you-java/js/bash.min.js"></script>
    <script src="/learn-you-java/js/java.min.js"></script>
    <script src="/learn-you-java/js/javascript.min.js"></script>
    <script src="/learn-you-java/js/sql.min.js"></script>
</head>

<body>
    <button id="navigation-toggle" aria-expanded="false" aria-haspopup="true" onclick="toggleNav()"
        onkeydown="event => {event.keyCode === 13 ? toggleNav() : null}" tabindex="1">Table of contents</button>
    <nav id="navigation"><ul><details><summary>Workshops</summary><ul><li><a class="nav-link" href="/learn-you-java/Workshops/001-Noughts-and-crosses.html">001 Noughts and crosses</a></li><li><a class="nav-link" href="/learn-you-java/Workshops/002-Hotels.html">002 Hotels</a></li><li><a class="nav-link" href="/learn-you-java/Workshops/003-Supermarkets.html">003 Supermarkets</a></li></ul></details></ul></nav>
    <h1>Hotels</h1>
<p>Object orientated programming (OOP) is a style of programming. The Java language has been created to capture and express this style of programming. We need to learn about OOP in order to read and write Java code. There are a set of core concepts and values that you need to know about to start writing Java code like a pro. The main idea behind OOP is that our computer program should model how things are and how things relate to each other in the real world. For example today we are going to build a hotel. Our hotel will have rooms and guests and a location, just like hotels do in the real world.</p>
<p><iframe src="https://www.youtube.com/embed/UrGq7qSvtgI" width="100%" height="444px" allowfullscreen frameborder=0></iframe></p>
<h2>new Hotel</h2>
<p>We are going to make a Hotel in Java. Our hotel can start off with a name. In a file called <code>Hotel.java</code> add the following basic class.</p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hotel</span> </span>{
    <span class="hljs-keyword">public</span> String name;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Hotel</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;
    }
}
</code></pre>
<p>In the code above we are declaring a public class that means other parts of our program can use this class. The class has a property called <code>name</code> that is a string. I have added a <code>constructor</code> function to my class. The <code>public Hotel</code> method will be called when I create a new instance of this class like this.</p>
<pre><code class="language-java">Hotel grand = <span class="hljs-keyword">new</span> Hotel(<span class="hljs-string">&quot;The Grand&quot;</span>);
</code></pre>
<p>When you see the <code>new</code> keyword you know that you are creating a new instance of a Hotel, we are passing the name of the hotel to the constructor function, so when the hotel is constructed (or instantiated) it can be assigned a name. How will you be able to access the name of the hotel?</p>
<pre><code class="language-java">grand.name <span class="hljs-comment">// &quot;The Grand&quot;</span>
</code></pre>
<p>This object in our code is going to represent our real world hotel. Our hotel has a name, it will also need rooms for our guests.</p>
<h2>OOP Design</h2>
<p>When you are thinking about the design of an object orientated program there are some principles of good practice that you should know about.</p>
<ol>
<li>Single responsibility</li>
<li>Open for extension closed for modification</li>
<li>Build complexity with simplicity</li>
<li>Small simple interfaces</li>
<li>Backwards compatibility</li>
</ol>
<p>This is a simplified version of the <a href="https://www.digitalocean.com/community/conceptual_articles/s-o-l-i-d-the-first-five-principles-of-object-oriented-design">SOLID principles</a>.</p>
<p>Our Hotel's single responsibility is to have rooms available. The Room's single responsibility is to hold upto 2 guests. The Guests responsibility is to have a surname. So to practice this we should make a new class from which we can create the rooms for our hotel.</p>
<h2>new Room</h2>
<p>A room will have a room number. A room might be a Single, Twin or Double room, those different rooms will have different rates, and we'll want to check and see if the room is available or not. Finally we want to be able to place guests into the room. In a new file called <code>Room.java</code> can you create the following class definition.</p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Room</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> number;
    <span class="hljs-keyword">public</span> String type = <span class="hljs-string">&quot;Double&quot;</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Room</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span> </span>{
        <span class="hljs-keyword">this</span>.number = number;
    }
}
</code></pre>
<p>Very similar to our <code>Hotel</code> class. Can you also create a <code>Guest.java</code> with a <code>Guest</code> class that we can instantiate with a <code>String</code> surname.</p>
<p>We can now make 3 types of object in a program. Finally in a <code>Main.java</code> class we can start to create these objects in the OOP style!</p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] flags)</span> </span>{
        Hotel grand = <span class="hljs-keyword">new</span> Hotel(<span class="hljs-string">&quot;The Grand&quot;</span>);
        Guest simmonds = <span class="hljs-keyword">new</span> Guest(<span class="hljs-string">&quot;Simmonds&quot;</span>);
        System.out.println(grand.name);
    }
}
</code></pre>
<h2>Relating objects</h2>
<p>At present our hotel has only a name. We will want to create a hotel and say how many rooms it has. When we instantiate a new hotel it would be good if we could also passing the number of rooms that we like that hotel to have. It will be an integer. Can you update your code when you create a new hotel to also accept an integer that will represent the number of rooms we want a hotel to have.</p>
<p>Now if you think about your data structures, the best data structure to hold a list of rooms it's going to be an array, so we can use the number of rooms that the hotel needs to create an empty array and then we will iterate over it in a for loop and fill that array with rooms.</p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hotel</span> </span>{
    <span class="hljs-keyword">public</span> String name
    <span class="hljs-keyword">private</span> Room[] rooms;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Hotel</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> numOfRooms)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.rooms = <span class="hljs-keyword">new</span> Room[numOfRooms];
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numOfRooms; i++) {
            <span class="hljs-keyword">this</span>.rooms[i] = <span class="hljs-keyword">new</span> Room(i + <span class="hljs-number">1</span>); <span class="hljs-comment">// I&#x27;m using the index to be the room number</span>
        }
    }
}
</code></pre>
<h2>Debugging</h2>
<p>We should have a Hotel with rooms, but how can we be sure? At present our code just runs and then exits. To examine more closely what the state of our program is as it runs, and verify that values and variables are being set correctly we need to learn to debug our code.</p>
<table>
<thead>
<tr><th style="text-align:left">Debugging</th><th style="text-align:center">Admiral Grace Hopper</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left"><em>This is an odd term. Back in the early days of computing, computers were large constructions with physical valves and relays - they were bright warm and dusty things - very attractive to moths. The Mark II which was being built and run in Harvard University showed some unusual failing and faults. It got the engineering team curious as to what the problem was, upon closer investigation <a href="https://en.wikipedia.org/wiki/Grace_Hopper">Admiral Grace Hopper</a> discovered a dead moth was blocking one of the relays. They went looking for other bugs and told the team leads they needed to &quot;debug&quot; the system!</em></td><td style="text-align:center"><figure><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Commodore_Grace_M._Hopper%2C_USN_%28covered%29.jpg/440px-Commodore_Grace_M._Hopper%2C_USN_%28covered%29.jpg" alt="Admiral Grace Hopper"><figcaption></figcaption></figure></td></tr>
</tbody>
</table>
<p>Let's use the debugger to inspect the objects in our code and verify that we do have a hotel with rooms in it.</p>
<p>First create a breakpoint on the last line of the main method in your <code>Main.java</code> file after you declare and assign your Hotel. You can add a <code>System.out.println(hotel.name)</code> and add the breakpoint to that line.</p>
<p><em>you might need to goto: vscode-&gt;settings-&gt;features-&gt;debug-&gt;<strong>Allow Breakpoints Everywhere</strong></em></p>
<p><figure><img src="https://user-images.githubusercontent.com/4499581/148397894-e65070c3-73b0-4ede-a6a2-b6eb5ad3cad4.png" alt="adding a breakpoint"><figcaption></figcaption></figure></p>
<p>Can you see the red dot that I added to the left of the line numbers? That is a breakpoint. When we run our program in debug mode the program will stop there are we will be able to inspect our hotel. Try clicking on 'debug' instead of 'run' to start a debugging session.</p>
<p><figure><img src="https://user-images.githubusercontent.com/4499581/148399443-a471f985-7560-4284-a50a-a09101af0bf7.jpg" alt="annotated debugging screen"><figcaption></figcaption></figure></p>
<p>Take a moment to orientate yourself and inspect your hotel object. Our code is paused at the breakpoint, so what comes after the breakpoint has not yet been executed. While we are paused here we can look around in our program, inspect the local variables, and even interact with our code by writing expressions in the 'DEBUG CONSOLE' tab. Pretty amazing, very useful...</p>
<p>You can also see you have a set of controls, like pause/play, step over, step into etc. These control the execution of your program, so you can step over a function, or into it and move through your program step by step, following the path of execution.</p>
<h2>Interfaces and interactions</h2>
<p>We have a hotel with rooms for guests. Now we want to be able to place a guest in a room. To do this our objects will interact. Usually when a guest arrives at the hotel they check-in and the hotel assign them their room. So it makes sense for the hotel to take responsibility for placing a guest in a room. At present our hotel has no way for us to check-in a guest. What we need to do is build out the Hotel's interface by adding a method.</p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hotel</span> </span>{
    <span class="hljs-keyword">public</span> String name;
    <span class="hljs-keyword">private</span> Room[] rooms;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Hotel</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> numOfRooms)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.rooms = <span class="hljs-keyword">new</span> Room[numOfRooms];
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numOfRooms; i++) {
            <span class="hljs-keyword">this</span>.rooms[i] = <span class="hljs-keyword">new</span> Room();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">checkIn</span><span class="hljs-params">(Guest guest)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
}
</code></pre>
<p>Now our hotel has a name, rooms, and a method that we can call with a guest. Our <code>checkIn</code> method needs to do the work of adding the guest into the first empty room it can find. Can you write this method? Think about how you might do that and the code that you might <em>want</em> to write. For example as I iterate over all the rooms taking one room at a time I will want to ask each room,</p>
<blockquote>
<p>Are you empty?</p>
</blockquote>
<p>That might look like:</p>
<pre><code class="language-java"><span class="hljs-keyword">for</span>(Room room : <span class="hljs-keyword">this</span>.rooms) {
    <span class="hljs-keyword">if</span> (room.isEmpty()) {
        <span class="hljs-comment">//... more code in here</span>
    }
}
</code></pre>
<p>This is another interface, but this time on the <code>Room</code> class. Here we are in the essential point of this workshop which is writing code were classes interact with one another. You will need to update your <code>Room</code> class as well at the <code>Hotel</code> class to complete the task of adding a guest to a room.</p>
<p>📌 Remember the SOLID principles mentioned earlier? <em>Small simple interfaces</em> in the <em>SOLID</em> principles means <strong>Interface segregation principle</strong> it is the <em>I</em> in SOLID and states.</p>
<blockquote>
<p>A client should never be forced to implement an interface that it doesn’t use, or clients shouldn’t be forced to depend on methods they do not use.</p>
</blockquote>
<p>This principles encourages us to keep the public interface of a class as small and concise as possible. We need these interfaces of <code>checkIn</code> and <code>isEmpty</code> so let's update our classes to have these interfaces.</p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Room</span> </span>{
    <span class="hljs-keyword">public</span> String number = <span class="hljs-string">&quot;00&quot;</span>;
    <span class="hljs-keyword">private</span> Guest[] beds = {<span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>};

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Room</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.number = <span class="hljs-keyword">this</span>.toString().substring(<span class="hljs-number">5</span>,<span class="hljs-number">7</span>);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isEmpty</span> <span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// need logic to check room is empty</span>
    }
}
</code></pre>
<p>Once we've found an empty room, we will need an interface to add the guest, and remove them when they check-out.</p>

    <nav id="footer-nav"></nav>
    <script src="/learn-you-java/js/tabbed-code-blocks.js"></script>
    <script>
        function toggleNav() {
            const button = document.getElementById('navigation-toggle')
            const isAriaExp = button.getAttribute('aria-expanded')
            const newAriaExp = (isAriaExp == "false") ? "true" : "false"
            button.setAttribute('aria-expanded', newAriaExp)
            const nav = document.getElementById('navigation')
            nav.style.display = nav.offsetParent ? 'none' : 'block'
        }
        function footerNav() {
            const links = document.getElementsByClassName('nav-link')
            const hrefs = Array.from(links).map(a => a.getAttribute('href'))
            const [current] = window.location.href.match(/[0-9\.]+[a-zA-Z0-9_\\-]+\.html/) || [0]
            const index = hrefs.findIndex(href => {
                const page = href.split(/\\|\//).pop()
                return page === current
            })
            const prevIndex = index - 1
            const nextIndex = index + 1
            if (prevIndex > -1) {
                const prev = document.createElement('a') 
                prev.appendChild(document.createTextNode("◀︎ Prev"))
                prev.title = "Previous session notes"
                prev.href = hrefs[prevIndex]
                document.getElementById('footer-nav').prepend(prev)
            }
            if (nextIndex < hrefs.length) {
                const next = document.createElement('a') 
                next.appendChild(document.createTextNode("Next ►"))
                next.title = "Next session notes"
                next.href = hrefs[nextIndex]
                document.getElementById('footer-nav').append(next)
            }
            window.removeEventListener('DOMContentLoaded', footerNav)
        }
        window.addEventListener('DOMContentLoaded', footerNav)
    </script>
</body>

</html>